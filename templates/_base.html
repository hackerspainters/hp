<!DOCTYPE html>
<html lang="en">
    <head>

	    <meta http-equiv="Content-type" content="text/html;charset=UTF-8">
	    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
		<meta name="HandheldFriendly" content="True">
		<meta name="MobileOptimized" content="320">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
	    <meta name="generator" content="golang blog" />

		<link rel="stylesheet" type="text/css" href="{{ .HttpPrefix }}/static/css/style.css" />
		<link href='http://fonts.googleapis.com/css?family=Abril+Fatface' rel='stylesheet' type='text/css'>
		<link href="http://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,600,700,900,300italic,400italic,600italic,700italic,900italic" rel="stylesheet" type="text/css">
		<link rel="stylesheet" href="{{ .HttpPrefix }}/static/font-awesome/css/font-awesome.min.css">
		<!--[if IE 7]>
		<link rel="stylesheet" href="{{ .HttpPrefix }}/static/font-awesome/css/font-awesome-ie7.min.css">
		<![endif]-->
		<!--[if lt IE 9]>
		<script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
		<![endif]-->
		
        <title>{{ template "title" . }}</title>
    </head>

    <body class="home-template">

		<!-- facebook integration with javascript -->
		<div id="fb-root"></div>
		<script>
			window.fbAsyncInit = function() {
				// init the FB JS SDK
				FB.init({
					appId      : '521976014544775',                    // App ID from the app dashboard
					channelUrl : '//hackersandpainters.sg/channel.html', // Channel file for x-domain comms
					status     : true,                                 // Check Facebook Login status
					xfbml      : true                                  // Look for social plugins on the page
				});

				// Additional initialization code such as adding Event Listeners goes here
			};

			function Login() {
				FB.login(function(response) {
					if (response.authResponse) {
							console.log(response.authResponse)
							// once we get the "code" and "access_token" from the authResponse, 
							// we have send them to the backend with an ajax call and let the 
							// golang backend execute the event list parsing and dump the results into
							// mongodb

							getUserInfo();
						} else {
							console.log('User cancelled login or did not fully authorize.');
						}
				},{scope: 'user_events'});
			}  
			
			function getUserInfo() {
				FB.api('/me', function(response) {
					var str="<b>Name</b> : "+response.name+"<br>";
					str +="<b>Link: </b>"+response.link+"<br>";
					str +="<b>Username:</b> "+response.username+"<br>";
					str +="<b>id: </b>"+response.id+"<br>";
					str +="<b>Email:</b> "+response.email+"<br>";
					str +="<input type='button' value='Get Photo' onclick='getPhoto();'/>";
					str +="<input type='button' value='Logout' onclick='Logout();'/>";
					document.getElementById("status").innerHTML=str;
				});
			}

			function getPhoto() {
				FB.api('/me/picture?type=normal', function(response) {
					var str="<br/><b>Pic</b> : <img src='"+response.data.url+"'/>";
					document.getElementById("status").innerHTML+=str;
				});
    		}

			function Logout() {
				FB.logout(function(){document.location.reload();});
			}

			// Load the SDK asynchronously
			(function(d, s, id){
				var js, fjs = d.getElementsByTagName(s)[0];
				if (d.getElementById(id)) {return;}
				js = d.createElement(s); js.id = id;
				js.src = "//connect.facebook.net/en_US/all.js";
				fjs.parentNode.insertBefore(js, fjs);
			}(document, 'script', 'facebook-jssdk'));
		</script>


		<div id="wrapper">

			<aside id="sidebar" role="complementary" style="background-image: url({{ .HttpPrefix }}/static/img/blog_cover-1.jpg)">
				<div class="blog-logo">

					<!--<a href="/" title="mots."><img src="{{ .HttpPrefix }}/static/img/logo_mots.png" alt="mots." /></a>-->
					<a href="/">Hackers & Painters</a>

				</div>

				<div class="blog-description"><p>Lightning Knowledge Sharing @ Lunch</p></div>

				<div class="blog-social">
					<p>Follow Hackers and Painters.</p>
					<ul class="clearfix">
						<li>
							<a href="https://www.facebook.com/groups/hackerspainters" target="_blank">
								<span class="icon-stack">
									<i class="icon-circle icon-stack-base"></i>
									<i class="icon-facebook icon-light"></i>
								</span>
							</a>
						</li>
						<li>
							<a href="https://twitter.com/hackerspainters" target="_blank">
								<span class="icon-stack">
									<i class="icon-circle icon-stack-base"></i>
									<i class="icon-twitter icon-light"></i>
								</span>
							</a>
						</li>
						<li>
							<a href="https://plus.google.com/u/0/b/105855420164914868165/105855420164914868165/posts/p/pub" target="_blank">
								<span class="icon-stack">
									<i class="icon-circle icon-stack-base"></i>
									<i class="icon-google-plus icon-light"></i>
								</span>
							</a>
						</li>
						<li>
							<a href="https://github.com/hackerspainters/" target="_blank">
								<span class="icon-stack">
									<i class="icon-circle icon-stack-base"></i>
									<i class="icon-github icon-light"></i>
								</span>
							</a>
						</li>
					</ul>
				</div>

				<div>
					<h2>Schedule</h2>
					<ul class="clean-ul">
						<li>
							<a href="/events/next/">This coming Friday</a>
						</li>
						<li>
							<a href="/events/">Upcoming</a>
						</li>
						<li>
							<a href="/events/past/">Past</a>
						</li>
					</ul>
				</div>

			</aside>

			<main id="content" role="main">

				<div class="inner list-posts">

					{{ template "content" . }}

					<footer class="site-footer clearfix">

						<div class="copyright">
							<section class="copyright">Copyright <a href="/">Hackers and Painters.</a> 
								&copy; 2013 &bull; All rights reserved.
							</section>
							<section class="poweredby">Site built with <a href="http://golang.org" target="_blank">Golang</a>.</section>
						</div>

						<!--<div class="rss-feed">-->
							<!--<a href="/" title="Subscribe to RSS">-->
							<!--<span class="icon-stack">-->
							<!--<i class="icon-circle icon-stack-base"></i>-->
							<!--<i class="icon-rss icon-light"></i>-->
							<!--</span>-->
							<!--</a>-->
						<!--</div>-->

					</footer>

				</div>

			</main>

		</div><!-- END #wrapper -->

  <script src="{{ .HttpPrefix }}/static/js/jquery.js"></script>
  <script src="{{ .HttpPrefix }}/static/js/plugins.min.js"></script>
		<script src="{{ .HttpPrefix }}/static/js/mots.js"></script>

		<!-- Google Analytics -->
		<script>
		  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
		  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
		  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
		  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

		  ga('create', 'UA-45117966-1', 'hackersandpainters.sg');
		  ga('send', 'pageview');

		</script>

    </body>

</html>
